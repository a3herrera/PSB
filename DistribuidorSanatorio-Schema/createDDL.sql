CREATE TABLE PERSONS (PERSON_ID BIGINT NOT NULL, BIRTHDAY DATETIME, CREATION_DATE DATETIME, FIRTS_NAME VARCHAR(20) NOT NULL, GENDER VARCHAR(20), LAST_UPDATE DATETIME, SECOND_NAME VARCHAR(20), SECOND_SURNAME VARCHAR(20), SURNAME VARCHAR(20), VERSION BIGINT, PRIMARY KEY (PERSON_ID))
CREATE TABLE PERSON_INFORMATION (INFORMATION_ID BIGINT NOT NULL, CREATION_DATE DATETIME, LAST_UPDATE DATETIME, TYPE VARCHAR(30) NOT NULL, VERSION BIGINT, PERSON_ID BIGINT NOT NULL, PRIMARY KEY (INFORMATION_ID))
CREATE TABLE PROFILES (PROFILE_ID BIGINT NOT NULL, CREATION_DATE DATETIME, LAST_UPDATE DATETIME, NAME VARCHAR(30) NOT NULL, STATE TINYINT(1) default 0 NOT NULL, VERSION BIGINT, PRIMARY KEY (PROFILE_ID))
CREATE TABLE USERS (USER_ID BIGINT NOT NULL, CREATION_DATE DATETIME, LAST_UPDATE DATETIME, PASSWORD VARCHAR(150) NOT NULL, STATE VARCHAR(255) NOT NULL, USER_NAME VARCHAR(50) NOT NULL, VERSION BIGINT, PROFILE_ID BIGINT, PERSON_ID BIGINT NOT NULL, PRIMARY KEY (USER_ID))
CREATE TABLE PERSON_ADD_INFO (INFORMATION_ID BIGINT, VALUE_ VARCHAR(255) NOT NULL, KEY_ VARCHAR(255) NOT NULL)
ALTER TABLE PROFILES ADD CONSTRAINT CNN_UN_PROFILE_NAME UNIQUE (NAME)
ALTER TABLE USERS ADD CONSTRAINT CNN_UN_USER_NAME UNIQUE (USER_NAME)
ALTER TABLE PERSON_INFORMATION ADD CONSTRAINT FK_PERSON_INFORMATION_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSONS (PERSON_ID)
ALTER TABLE USERS ADD CONSTRAINT FK_USERS_PROFILE_ID FOREIGN KEY (PROFILE_ID) REFERENCES PROFILES (PROFILE_ID)
ALTER TABLE USERS ADD CONSTRAINT FK_USERS_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSONS (PERSON_ID)
ALTER TABLE PERSON_ADD_INFO ADD CONSTRAINT FK_PERSON_ADD_INFO_INFORMATION_ID FOREIGN KEY (INFORMATION_ID) REFERENCES PERSON_INFORMATION (INFORMATION_ID)
CREATE TABLE SEQ_PROFILE_ID (PROFILE_KEY VARCHAR(50) NOT NULL, PROFILE_VALUE DECIMAL(38), PRIMARY KEY (PROFILE_KEY))
INSERT INTO SEQ_PROFILE_ID(PROFILE_KEY, PROFILE_VALUE) values ('PROFILE_ID', 0)
CREATE TABLE SEQ_USER_ID (USER_KEY VARCHAR(50) NOT NULL, USER_VALUE DECIMAL(38), PRIMARY KEY (USER_KEY))
INSERT INTO SEQ_USER_ID(USER_KEY, USER_VALUE) values ('USER_ID', 0)
CREATE TABLE SEQ_PERSON_INFORMATION_ID (PERSON_INF_KEY VARCHAR(50) NOT NULL, PERSON_INF_VALUE DECIMAL(38), PRIMARY KEY (PERSON_INF_KEY))
INSERT INTO SEQ_PERSON_INFORMATION_ID(PERSON_INF_KEY, PERSON_INF_VALUE) values ('PERSON_INF_ID', 0)
CREATE TABLE SEQ_PERSON_ID (PERSON_KEY VARCHAR(50) NOT NULL, PERSON_VALUE DECIMAL(38), PRIMARY KEY (PERSON_KEY))
INSERT INTO SEQ_PERSON_ID(PERSON_KEY, PERSON_VALUE) values ('PERSON_ID', 0)
